{"version":3,"sources":["webpack://InputJS/webpack/bootstrap","webpack://InputJS/./src/Keyboard.js","webpack://InputJS/./src/Manager.js","webpack://InputJS/./src/Mouse.js","webpack://InputJS/./src/Touch.js","webpack://InputJS/./src/index.js"],"names":["Keyboard","screen","__shiftKey","__ctrlKey","__metaKey","__altKey","onUp","addEventListener","KEYUP","onKeyUp","bind","KEYDOWN","onKeyDown","event","preventDefault","key","KEY","SHIFT","CONTROL","ALT","META","extractMeta","console","log","shiftKey","ctrlKey","metaKey","altKey","document","removeEventListener","onKeyboardEvent","Manager","dom","HTMLElement","querySelector","mouse","Mouse","keyboard","listeners","lockKeyboardEvents","lockMouseEvents","type","options","push","processor","EVENT_TYPE","MOUSE_CLICK","processMouseButton","MOUSE_WHEEL","MOUSE_MOVE","processMouseMove","KEY_PRESS","processKeypress","MOUSE_DBLCLICK","processDblClick","listener","call","fn","button","shift","ctrl","meta","alt","undefined","__button","code","keyCode","onMove","onMouseMove","onMouseUp","onWheel","onMouseWheel","onDblClick","onMouseDblClick","processEvent","LEFT","MIDDLE","RIGHT","target","__inViewport","onMouseDown","onMouseContextMenu","onMouseEnter","onMouseLeave","x","offsetX","y","offsetY","focus","blur","Touch","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","set","offsetWidth","offsetHeight","onStart","onEnd"],"mappings":"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","file":"inputjs.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","export class Keyboard {\n\n  static KEYUP = \"keyup\";\n  static KEYDOWN = \"keydown\";\n\n  static KEY = {\n    SHIFT: \"Shift\",\n    CONTROL: \"Control\",\n    ALT: \"Alt\",\n    META: \"Meta\"\n  };\n\n  /**\n   * \n   * @param {HTMLElement} screen \n   */\n  constructor(screen) {\n    this.__shiftKey = false;\n    this.__ctrlKey = false;\n    this.__metaKey = false;\n    this.__altKey = false;\n\n    this.onUp = null;\n\n    screen.addEventListener(Keyboard.KEYUP, this.onKeyUp.bind(this), false);\n    screen.addEventListener(\n      Keyboard.KEYDOWN,\n      this.onKeyDown.bind(this),\n      false\n    );\n  }\n\n  /**\n   * Event handler for KEYBOARD.KEYDOWN event\n   *\n   * @param {KeyboardEvent} event\n   */\n  onKeyDown(event) {\n    event.preventDefault && event.preventDefault();\n    switch (event.key) {\n      case Keyboard.KEY.SHIFT:\n        this.__shiftKey = true;\n        break;\n\n      case Keyboard.KEY.CONTROL:\n        this.__ctrlKey = true;\n        break;\n\n      case Keyboard.KEY.ALT:\n        this.__altKey = true;\n        break;\n\n      case Keyboard.KEY.META:\n        this.__metaKey = true;\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  /**\n   * Event handler for KEYBOARD.KEYUP event\n   *\n   * @param {KeyboardEvent} event\n   */\n  onKeyUp(event) {\n    event.preventDefault && event.preventDefault();\n    switch (event.key) {\n      case Keyboard.KEY.SHIFT:\n        this.__shiftKey = false;\n        break;\n\n      case Keyboard.KEY.CONTROL:\n        this.__ctrlKey = false;\n        break;\n\n      case Keyboard.KEY.ALT:\n        this.__altKey = false;\n        break;\n\n      case Keyboard.KEY.META:\n        this.__metaKey = false;\n        break;\n\n      default:\n        this.extractMeta(event);\n        console.log(event)\n        this.onUp && this.onUp(event);\n        break;\n    }\n  }\n\n  /**\n   * Extract meta information from a keyup event\n   *\n   * @param {KeyboardEvent} event\n   */\n  extractMeta(event) {\n    this.__shiftKey = event.shiftKey;\n    this.__ctrlKey = event.ctrlKey;\n    this.__metaKey = event.metaKey;\n    this.__altKey = event.altKey;\n  }\n\n  /**\n   * Remove all event listeners\n   */\n  destroy() {\n    document.removeEventListener(\n      Keyboard.KEYUP,\n      this.onKeyboardEvent.bind(this),\n      false\n    );\n    document.removeEventListener(\n      Keyboard.KEYDOWN,\n      this.onKeyboardEvent.bind(this),\n      false\n    );\n  }\n}\n","import { Mouse } from \"./Mouse\";\nimport { Keyboard } from \"./Keyboard\";\n\nexport class Manager {\n\n    static EVENT = {\n\n        MOUSE_CLICK: 0,\n        MOUSE_WHEEL: 1,\n        MOUSE_MOVE: 2,\n        MOUSE_DBLCLICK: 3,\n\n        KEY_PRESS: 4\n    };\n\n    static BUTTON = {\n        LEFT: 0,\n        MIDDLE: 1,\n        RIGHT: 2\n    };\n\n    /**\n     * \n     * @param {HTMLElement} dom \n     */\n    constructor(dom) {\n        dom = (dom instanceof HTMLElement) ? dom : document.querySelector(dom)\n        this.mouse = new Mouse(dom)\n        this.keyboard = new Keyboard(dom)\n\n        this.listeners = {}\n\n        this.lockKeyboardEvents()\n        this.lockMouseEvents()\n    }\n\n    /**\n     *\n     * @param {Number} type\n     * @param {Object} options\n     */\n    capture(type, options) {\n        if (!this.listeners[type]) {\n            this.listeners[type] = [options]\n        } else {\n            this.listeners[type].push(options)\n        }\n    }\n\n    /**\n     *\n     * @param {int} type\n     * @param {(Object|Array)} event\n     */\n    processEvent(type, event) {\n        let listeners = this.listeners[type],\n            processor;\n\n        if (!listeners) return;\n\n        switch (type) {\n            case Manager.EVENT_TYPE.MOUSE_CLICK:\n                processor = this.processMouseButton;\n                break;\n\n            case Manager.EVENT_TYPE.MOUSE_WHEEL:\n            case Manager.EVENT_TYPE.MOUSE_MOVE:\n                processor = this.processMouseMove;\n                break;\n\n            case Manager.EVENT_TYPE.KEY_PRESS:\n                processor = this.processKeypress;\n                break;\n\n            case Manager.EVENT_TYPE.MOUSE_DBLCLICK:\n                processor = this.processDblClick;\n                break;\n\n            default:\n                processor = () => false;\n                break;\n        }\n\n        for (const listener of listeners) {\n            if (\n                processor.call(this, listener, event) &&\n                listener.fn(this.keyboard, this.mouse, event)\n            ) {\n                // TODO: certify state\n                break;\n            }\n        }\n    }\n\n    processMouseButton(listener, event) {\n        return (\n            event.button === listener.button &&\n            !this.keyboard.__shiftKey === !listener.shift &&\n            !this.keyboard.__ctrlKey === !listener.ctrl &&\n            !this.keyboard.__metaKey === !listener.meta &&\n            !this.keyboard.__altKey === !listener.alt\n        );\n    }\n\n    processMouseMove(listener) {\n        return (\n            (undefined === listener.button ||\n                this.mouse.__button === listener.button) &&\n            !this.keyboard.__shiftKey === !listener.shift &&\n            !this.keyboard.__ctrlKey === !listener.ctrl &&\n            !this.keyboard.__metaKey === !listener.meta &&\n            !this.keyboard.__altKey === !listener.alt\n        );\n    }\n\n    processDblClick(listener) {\n        return (\n            !this.keyboard.__shiftKey === !listener.shift &&\n            !this.keyboard.__ctrlKey === !listener.ctrl &&\n            !this.keyboard.__metaKey === !listener.meta &&\n            !this.keyboard.__altKey === !listener.alt\n        );\n    }\n\n    processKeypress(listener, event) {\n        return (\n            (event.key === listener.key ||\n                event.code === listener.code ||\n                event.keyCode === listener.keyCode) &&\n            !this.keyboard.__shiftKey === !listener.shift &&\n            !this.keyboard.__ctrlKey === !listener.ctrl &&\n            !this.keyboard.__metaKey === !listener.meta &&\n            !this.keyboard.__altKey === !listener.alt\n        );\n    }\n\n    lockMouseEvents() {\n        this.mouse.onMove = this.onMouseMove.bind(this);\n        this.mouse.onUp = this.onMouseUp.bind(this);\n        this.mouse.onWheel = this.onMouseWheel.bind(this);\n\n        this.mouse.onDblClick = this.onMouseDblClick.bind(this);\n    }\n\n    lockKeyboardEvents() {\n        this.keyboard.onUp = this.onKeyUp.bind(this);\n    }\n\n    /**\n     * Keyboard Events\n     */\n\n    onKeyUp(event) {\n        this.processEvent(Manager.EVENT_TYPE.KEY_PRESS, event);\n    }\n\n    /**\n     * Mouse Events\n     */\n\n    onMouseUp(event) {\n        this.processEvent(Manager.EVENT_TYPE.MOUSE_CLICK, event);\n    }\n\n    onMouseMove(event) {\n        this.processEvent(Manager.EVENT_TYPE.MOUSE_MOVE, event);\n    }\n\n    onMouseDblClick(event) {\n        this.processEvent(Manager.EVENT_TYPE.MOUSE_DBLCLICK, event);\n    }\n\n    onMouseWheel(event) {\n        this.processEvent(Manager.EVENT_TYPE.MOUSE_WHEEL, event);\n    }\n\n}\n","\nexport class Mouse {\n\n  static BUTTON = {\n    LEFT: 0,\n    MIDDLE: 1,\n    RIGHT: 2\n  };\n\n  /**\n   * \n   * @param {HTMLDivElement} screen\n   */\n  constructor(screen) {\n    \n    this.screen = screen;\n    this.target = {};\n\n    this.onMove = null;\n    this.onUp = null;\n    this.onWheel = null;\n    this.onDblClick = null;\n\n    this.__inViewport = false;\n    this.__button = null;\n\n    screen.addEventListener(\"mousedown\", this.onMouseDown.bind(this));\n    screen.addEventListener(\"mousemove\", this.onMouseMove.bind(this));\n    screen.addEventListener(\"mouseup\", this.onMouseUp.bind(this));\n    screen.addEventListener(\"contextmenu\", this.onMouseContextMenu.bind(this));\n    screen.addEventListener(\"dblclick\", this.onMouseDblClick.bind(this));\n\n    screen.addEventListener(\"mouseenter\", this.onMouseEnter.bind(this));\n    screen.addEventListener(\"mouseleave\", this.onMouseLeave.bind(this));\n    screen.addEventListener(\"mousewheel\", this.onMouseWheel.bind(this));\n  }\n\n  onMouseMove(event) {\n    event.preventDefault && event.preventDefault();\n    this.target = {\n      x: event.offsetX,\n      y: -event.offsetY\n    };\n    this.onMove && this.onMove(event);\n  }\n\n  onMouseDown(event) {\n    event.preventDefault && event.preventDefault();\n    this.__button = event.button;\n  }\n\n  onMouseUp(event) {\n    event.preventDefault && event.preventDefault();\n    this.__button = null;\n    this.onUp && this.onUp({ button: event.button });\n  }\n\n  onMouseContextMenu(event) {\n    event.preventDefault && event.preventDefault();\n  }\n\n  onMouseDblClick(event) {\n    event.preventDefault && event.preventDefault();\n    this.onDblClick && this.onDblClick(event);\n  }\n\n  onMouseEnter(event) {\n    event.preventDefault && event.preventDefault();\n    this.screen.focus()\n    this.__inViewport = true;\n  }\n\n  onMouseLeave(event) {\n    event.preventDefault && event.preventDefault();\n    this.screen.blur()\n    this.__inViewport = false;\n  }\n\n  onMouseWheel(event) {\n    event.preventDefault && event.preventDefault();\n    this.onWheel && this.onWheel(event);\n  }\n}\n","\nexport class Touch {\n\n  static TOUCH_START = \"touchstart\";\n  static TOUCH_MOVE = \"touchmove\";\n  static TOUCH_END = \"touchend\";\n\n  constructor(screen) {\n    this.screen = screen;\n    this.target = {}\n\n    screen.addEventListener(Touch.TOUCH_START, this.onTouchStart.bind(this));\n    screen.addEventListener(Touch.TOUCH_MOVE, this.onTouchMove.bind(this));\n    screen.addEventListener(Touch.TOUCH_END, this.onTouchEnd.bind(this));\n  }\n\n  onTouchStart(event) {\n    event.preventDefault && event.preventDefault();\n    this.target.set(\n      (event.offsetX / screen.offsetWidth) * 2 - 1,\n      -(event.offsetY / screen.offsetHeight) * 2 + 1\n    );\n\n    this.onStart && this.onStart();\n  }\n\n  onTouchEnd(event) {\n    event.preventDefault && event.preventDefault();\n\n    this.onEnd && this.onEnd();\n  }\n\n  onTouchMove(event) {\n    event.preventDefault && event.preventDefault();\n    this.target = {\n      x: event.offsetX,\n      y: -event.offsetY\n    };\n\n    this.onMove && this.onMove();\n  }\n\n  destroy() {\n    this.screen.removeEventListener(\n      Touch.TOUCH_START,\n      this.onTouchStart.bind(this)\n    );\n    this.screen.removeEventListener(\n      Touch.TOUCH_MOVE,\n      this.onTouchMove.bind(this)\n    );\n    this.screen.removeEventListener(\n      Touch.TOUCH_END,\n      this.onTouchEnd.bind(this)\n    );\n  }\n}\n","import { Manager } from  \"./Manager\"\nimport { Keyboard }     from  \"./Keyboard\"\nimport { Touch }        from  \"./Touch\"\nimport { Mouse }        from  \"./Mouse\"\n\nexport { Keyboard, Mouse, Touch, Manager };\n"],"sourceRoot":""}